<svg id="SvgjsSvg1000" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" width="1409.796875" height="1091.46875"><defs id="SvgjsDefs1001"><marker id="SvgjsMarker1082" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1083" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1096" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1097" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1160" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1161" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1164" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1165" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1194" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1195" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1222" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1223" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1240" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1241" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1262" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1263" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1266" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1267" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1286" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1287" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1290" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1291" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1322" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1323" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1326" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1327" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1330" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1331" d="M0 0L14 5L0 10L0 0 " fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><g id="svgbackgroundid"><defs></defs><rect id="SvgjsRect1008" width="1409.796875" height="1091.46875" fill="#ffffff"></rect></g><g id="SvgjsG1010" transform="matrix(0.7660444431189778,-0.6427876096865396,0.6427876096865396,0.7660444431189778,25.008209061864505,451.8974263374498)"><path id="SvgjsPath1011" d="M0 0L264.8742416619975 0L264.8742416619975 173.53497626088094L0 173.53497626088094Z " stroke="none" fill="none"></path><g id="SvgjsG1012"><text id="SvgjsText1013" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="265px" fill="#9e9e9e" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="0.1" y="76.14248813044047" transform="rotate(0)"><tspan id="SvgjsTspan1014" dy="16" x="132.5"><tspan id="SvgjsTspan1015" style="text-decoration:;">https://github.com/wbccb</tspan></tspan></text></g></g><g id="SvgjsG1016" transform="translate(46.796875,25.003726260880967)"><path id="SvgjsPath1017" d="M0 0L1338 0L1338 996.965023739119L0 996.965023739119Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1018" d="M0 0L1338 0L1338 40L0 40Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1019"><text id="SvgjsText1020" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="1318px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="6" transform="rotate(0)"><tspan id="SvgjsTspan1021" dy="20" x="669"><tspan id="SvgjsTspan1022" style="text-decoration:;">Vue2-Computed依赖收集(假设</tspan><tspan id="SvgjsTspan1023" style="text-decoration:;font-size: inherit;">{{myName}}</tspan><tspan id="SvgjsTspan1024" style="text-decoration:;">，渲染Watcher持有myName)</tspan></tspan></text></g></g><g id="SvgjsG1025" transform="translate(46.796875,65.0037262608812)"><path id="SvgjsPath1026" d="M0 0L286.5 0L286.5 956.965023739119L0 956.965023739119Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1027" d="M0 0L286.5 0L286.5 30L0 30Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1028"><text id="SvgjsText1029" font-family="微软雅黑" text-anchor="middle" font-size="12px" width="267px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="-2.5" transform="rotate(0)"><tspan id="SvgjsTspan1030" dy="15" x="143.5"><tspan id="SvgjsTspan1031" style="text-decoration:;">响应式对</tspan></tspan><tspan id="SvgjsTspan1032" dy="15" x="143.5"><tspan id="SvgjsTspan1033" style="text-decoration:;">象(firstName+lastName)Object.defineProperty</tspan></tspan></text></g></g><g id="SvgjsG1034" transform="translate(333.296875,65.00372626088097)"><path id="SvgjsPath1035" d="M0 0L283 0L283 956.965023739119L0 956.965023739119Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1036" d="M0 0L283 0L283 30L0 30Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1037"><text id="SvgjsText1038" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="263px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1039" dy="16" x="141.5"><tspan id="SvgjsTspan1040" style="text-decoration:;">Dep.js</tspan></tspan></text></g></g><g id="SvgjsG1041" transform="translate(616.296875,65.00372626088097)"><path id="SvgjsPath1042" d="M0 0L214.5 0L214.5 956.965023739119L0 956.965023739119Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1043" d="M0 0L214.5 0L214.5 30L0 30Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1044"><text id="SvgjsText1045" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="195px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1046" dy="16" x="107.5"><tspan id="SvgjsTspan1047" style="text-decoration:;">Computed Watcher.js</tspan></tspan></text></g></g><g id="SvgjsG1048" transform="translate(830.796875,65.00372626088097)"><path id="SvgjsPath1049" d="M0 0L256 0L256 956.965023739119L0 956.965023739119Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1050" d="M0 0L256 0L256 30L0 30Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1051"><text id="SvgjsText1052" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="236px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1053" dy="16" x="128"><tspan id="SvgjsTspan1054" style="text-decoration:;">渲染 Watcher.js</tspan></tspan></text></g></g><g id="SvgjsG1055" transform="translate(1086.796875,65.00372626088097)"><path id="SvgjsPath1056" d="M0 0L298 0L298 956.965023739119L0 956.965023739119Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1057" d="M0 0L298 0L298 30L0 30Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1058"><text id="SvgjsText1059" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="278px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1060" dy="16" x="149"><tspan id="SvgjsTspan1061" style="text-decoration:;">scheduler.js</tspan></tspan></text></g></g><g id="SvgjsG1062" transform="translate(68.7582090618645,118.46875)"><path id="SvgjsPath1063" d="M12.833333333333334 0L216.66666666666666 0C233.77777777777777 0 233.77777777777777 38.5 216.66666666666666 38.5L12.833333333333334 38.5C-4.277777777777778 38.5 -4.277777777777778 0 12.833333333333334 0Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1064"><text id="SvgjsText1065" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="210px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="8.625" transform="rotate(0)"><tspan id="SvgjsTspan1066" dy="16" x="115"><tspan id="SvgjsTspan1067" style="text-decoration:;">更改数据：this.firstName=222</tspan></tspan></text></g></g><g id="SvgjsG1068" transform="translate(67.0082090618645,229.96875)"><path id="SvgjsPath1069" d="M0 0L233 0L233 70L0 70Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1070"><text id="SvgjsText1071" font-family="微软雅黑" text-anchor="start" font-size="13px" width="213px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="0.375" transform="rotate(0)"><tspan id="SvgjsTspan1072" dy="16" x="10"><tspan id="SvgjsTspan1073" style="text-decoration:;">Object.defineProperty的set()方法：</tspan></tspan><tspan id="SvgjsTspan1074" dy="16" x="10"><tspan id="SvgjsTspan1075" style="text-decoration:;">1. setter.call(obj, newVal)</tspan></tspan><tspan id="SvgjsTspan1076" dy="16" x="10"><tspan id="SvgjsTspan1077" style="text-decoration:;">2. dep.notify(): 每一个响应式对象都</tspan></tspan><tspan id="SvgjsTspan1078" dy="16" x="10"><tspan id="SvgjsTspan1079" style="text-decoration:;">持有一个Dep.js</tspan></tspan></text></g></g><g id="SvgjsG1080"><path id="SvgjsPath1081" d="M183.50820906186448 157.96875L183.50820906186448 193.46875L183.50820906186448 193.46875L183.50820906186448 226.3687500000001 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1082)"></path></g><g id="SvgjsG1084" transform="translate(354.796875,128.09375)"><path id="SvgjsPath1085" d="M0 0L253 0L253 101.875L0 101.875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1086"><text id="SvgjsText1087" font-family="微软雅黑" text-anchor="start" font-size="13px" width="233px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="24.3125" transform="rotate(0)"><tspan id="SvgjsTspan1088" dy="16" x="10"><tspan id="SvgjsTspan1089" style="text-decoration:;">const subs = this.subs.slice();</tspan></tspan><tspan id="SvgjsTspan1090" dy="16" x="10"><tspan id="SvgjsTspan1091" style="text-decoration:;">for (let i = 0, l = subs.length; i &lt; l; i++) </tspan></tspan><tspan id="SvgjsTspan1092" dy="16" x="10"><tspan id="SvgjsTspan1093" style="text-decoration:;">      subs[i].update()</tspan></tspan></text></g></g><g id="SvgjsG1094"><path id="SvgjsPath1095" d="M301.0082090618645 264.96875L316.40254203093224 264.96875L316.40254203093224 179.03125L351.196875 179.03125 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1096)"></path></g><g id="SvgjsG1098" transform="translate(869.1246208309988,105.21875)"><path id="SvgjsPath1099" d="M0 0L172.5 0L172.5 143.625L0 143.625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffe0b2"></path><g id="SvgjsG1100"><text id="SvgjsText1101" font-family="微软雅黑" text-anchor="start" font-size="13px" width="153px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="5.1875" transform="rotate(0)"><tspan id="SvgjsTspan1102" dy="16" x="10"><tspan id="SvgjsTspan1103" style="text-decoration:;">update() { </tspan></tspan><tspan id="SvgjsTspan1104" dy="16" x="10"><tspan id="SvgjsTspan1105" style="text-decoration:;">   if (this.lazy) </tspan></tspan><tspan id="SvgjsTspan1106" dy="16" x="10"><tspan id="SvgjsTspan1107" style="text-decoration:;">      this.dirty = true;</tspan></tspan><tspan id="SvgjsTspan1108" dy="16" x="10"><tspan id="SvgjsTspan1109" style="text-decoration:;">   else if (this.sync) </tspan></tspan><tspan id="SvgjsTspan1110" dy="16" x="10"><tspan id="SvgjsTspan1111" style="text-decoration:;">      this.run(); </tspan></tspan><tspan id="SvgjsTspan1112" dy="16" x="10"><tspan id="SvgjsTspan1113" style="text-decoration:;">   else </tspan></tspan><tspan id="SvgjsTspan1114" dy="16" x="10"><tspan id="SvgjsTspan1115" style="text-decoration:;">      queueWatcher(this) ;</tspan></tspan><tspan id="SvgjsTspan1116" dy="16" x="10"><tspan id="SvgjsTspan1117" style="text-decoration:;">}</tspan></tspan></text></g></g><g id="SvgjsG1118" transform="translate(1103.6246208309988,396.46875)"><path id="SvgjsPath1119" d="M0 0L260 0L260 192L0 192Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1120"><text id="SvgjsText1121" font-family="微软雅黑" text-anchor="start" font-size="13px" width="240px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="-2.625" transform="rotate(0)"><tspan id="SvgjsTspan1122" dy="16" x="10"><tspan id="SvgjsTspan1123" style="text-decoration:;">function flushSchedulerQueue() {</tspan></tspan><tspan id="SvgjsTspan1124" dy="16" x="10"><tspan id="SvgjsTspan1125" style="text-decoration:;">    for (index = 0; index &lt; queue.length; </tspan></tspan><tspan id="SvgjsTspan1126" dy="16" x="10"><tspan id="SvgjsTspan1127" style="text-decoration:;">index++) {</tspan></tspan><tspan id="SvgjsTspan1128" dy="16" x="10"><tspan id="SvgjsTspan1129" style="text-decoration:;">        watcher = queue[index]</tspan></tspan><tspan id="SvgjsTspan1130" dy="16" x="10"><tspan id="SvgjsTspan1131" style="text-decoration:;">        if (watcher.before) {</tspan></tspan><tspan id="SvgjsTspan1132" dy="16" x="10"><tspan id="SvgjsTspan1133" style="text-decoration:;">            watcher.before()</tspan></tspan><tspan id="SvgjsTspan1134" dy="16" x="10"><tspan id="SvgjsTspan1135" style="text-decoration:;">        }</tspan></tspan><tspan id="SvgjsTspan1136" dy="16" x="10"><tspan id="SvgjsTspan1137" style="text-decoration:;">        id = watcher.id</tspan></tspan><tspan id="SvgjsTspan1138" dy="16" x="10"><tspan id="SvgjsTspan1139" style="text-decoration:;">        has[id] = null</tspan></tspan><tspan id="SvgjsTspan1140" dy="16" x="10"><tspan id="SvgjsTspan1141" style="text-decoration:;">        watcher.run()</tspan></tspan><tspan id="SvgjsTspan1142" dy="16" x="10"><tspan id="SvgjsTspan1143" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1144" dy="16" x="10"><tspan id="SvgjsTspan1145" style="text-decoration:;">}</tspan></tspan></text></g></g><g id="SvgjsG1146" transform="translate(1114.1246208309988,250.28125)"><path id="SvgjsPath1147" d="M0 0L239 0L239 82.375L0 82.375Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1148"><text id="SvgjsText1149" font-family="微软雅黑" text-anchor="start" font-size="13px" width="219px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="6.5625" transform="rotate(0)"><tspan id="SvgjsTspan1150" dy="16" x="10"><tspan id="SvgjsTspan1151" style="text-decoration:;">queueWatcher (watcher: Watcher) {</tspan></tspan><tspan id="SvgjsTspan1152" dy="16" x="10"><tspan id="SvgjsTspan1153" style="text-decoration:;">    queue.push(watcher);</tspan></tspan><tspan id="SvgjsTspan1154" dy="16" x="10"><tspan id="SvgjsTspan1155" style="text-decoration:;">    nextTick(flushSchedulerQueue);</tspan></tspan><tspan id="SvgjsTspan1156" dy="16" x="10"><tspan id="SvgjsTspan1157" style="text-decoration:;">}</tspan></tspan></text></g></g><g id="SvgjsG1158"><path id="SvgjsPath1159" d="M1042.6246208309988 177.03125L1077.8746208309988 177.03125L1077.8746208309988 291.46875L1110.5246208309989 291.46875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1160)"></path></g><g id="SvgjsG1162"><path id="SvgjsPath1163" d="M1233.6246208309988 333.65625L1233.6246208309988 364.5625L1233.6246208309988 364.5625L1233.6246208309988 392.8687500000001 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1164)"></path></g><g id="SvgjsG1166" transform="translate(864.4058708309988,269.46875)"><path id="SvgjsPath1167" d="M0 0L181.9375 0L181.9375 204.5L0 204.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1168"><text id="SvgjsText1169" font-family="微软雅黑" text-anchor="start" font-size="13px" width="162px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="11.625" transform="rotate(0)"><tspan id="SvgjsTspan1170" dy="16" x="10"><tspan id="SvgjsTspan1171" style="text-decoration:;">run() {</tspan></tspan><tspan id="SvgjsTspan1172" dy="16" x="10"><tspan id="SvgjsTspan1173" style="text-decoration:;">    const value = this.get()</tspan></tspan><tspan id="SvgjsTspan1174" dy="16" x="10"><tspan id="SvgjsTspan1175" style="text-decoration:;">    if (</tspan></tspan><tspan id="SvgjsTspan1176" dy="16" x="10"><tspan id="SvgjsTspan1177" style="text-decoration:;">        value !== this.value ||</tspan></tspan><tspan id="SvgjsTspan1178" dy="16" x="10"><tspan id="SvgjsTspan1179" style="text-decoration:;">        isObject(value) ||</tspan></tspan><tspan id="SvgjsTspan1180" dy="16" x="10"><tspan id="SvgjsTspan1181" style="text-decoration:;">        this.deep</tspan></tspan><tspan id="SvgjsTspan1182" dy="16" x="10"><tspan id="SvgjsTspan1183" style="text-decoration:;">    ) {</tspan></tspan><tspan id="SvgjsTspan1184" dy="16" x="10"><tspan id="SvgjsTspan1185" style="text-decoration:;">        this.cb.call(this.vm, </tspan></tspan><tspan id="SvgjsTspan1186" dy="16" x="10"><tspan id="SvgjsTspan1187" style="text-decoration:;">value, oldValue);</tspan></tspan><tspan id="SvgjsTspan1188" dy="16" x="10"><tspan id="SvgjsTspan1189" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1190" dy="16" x="10"><tspan id="SvgjsTspan1191" style="text-decoration:;">}</tspan></tspan></text></g></g><g id="SvgjsG1192"><path id="SvgjsPath1193" d="M1102.6246208309988 492.46875L1074.9839958309988 492.46875L1074.9839958309988 371.71875L1049.9433708309987 371.71875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1194)"></path></g><g id="SvgjsG1196" transform="translate(861.6246208309988,501.96875)"><path id="SvgjsPath1197" d="M0 0L187.5 0L187.5 181L0 181Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#c8e6c9"></path><g id="SvgjsG1198"><text id="SvgjsText1199" font-family="微软雅黑" text-anchor="start" font-size="13px" width="168px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="15.875" transform="rotate(0)"><tspan id="SvgjsTspan1200" dy="16" x="10"><tspan id="SvgjsTspan1201" style="text-decoration:;">this.cb为初始</tspan></tspan><tspan id="SvgjsTspan1202" dy="16" x="10"><tspan id="SvgjsTspan1203" style="text-decoration:;">化constructor()传入的处</tspan></tspan><tspan id="SvgjsTspan1204" dy="16" x="10"><tspan id="SvgjsTspan1205" style="text-decoration:;">理function()，分为两种情</tspan></tspan><tspan id="SvgjsTspan1206" dy="16" x="10"><tspan id="SvgjsTspan1207" style="text-decoration:;">况：</tspan></tspan><tspan id="SvgjsTspan1208" dy="16" x="10"><tspan id="SvgjsTspan1209" style="text-decoration:;">1. 渲染Watcher传入一个空的</tspan></tspan><tspan id="SvgjsTspan1210" dy="16" x="10"><tspan id="SvgjsTspan1211" style="text-decoration:;">处理函数，但是this.run()触</tspan></tspan><tspan id="SvgjsTspan1212" dy="16" x="10"><tspan id="SvgjsTspan1213" style="text-decoration:;">发的get()，由依赖收集可以</tspan></tspan><tspan id="SvgjsTspan1214" dy="16" x="10"><tspan id="SvgjsTspan1215" style="text-decoration:;">知道，会执行render和</tspan></tspan><tspan id="SvgjsTspan1216" dy="16" x="10"><tspan id="SvgjsTspan1217" style="text-decoration:;">update()，这两个function会</tspan></tspan><tspan id="SvgjsTspan1218" dy="16" x="10"><tspan id="SvgjsTspan1219" style="text-decoration:;">触发整个组件重新渲染</tspan></tspan></text></g></g><g id="SvgjsG1220"><path id="SvgjsPath1221" d="M955.3746208309988 474.96875L955.3746208309988 487.96875L955.3746208309988 487.96875L955.3746208309988 498.3687500000001 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1222)"></path></g><g id="SvgjsG1224" transform="translate(1103.8746208309988,105.21875)"><path id="SvgjsPath1225" d="M0 0L239.5 0L255.5 16L255.5 115.75L0 115.75L0 0Z " stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1226" d="M239.5 0L239.5 16L255.5 16Z " stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1227" d="M0 0L239.5 0L255.5 16L255.5 115.75L0 115.75L0 0Z " stroke="none" fill="none"></path><g id="SvgjsG1228"><text id="SvgjsText1229" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="236px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="23.25" transform="rotate(0)"><tspan id="SvgjsTspan1230" dy="16" x="128"><tspan id="SvgjsTspan1231" style="text-decoration:;">将更新的watcher.run()压入队列中，然后</tspan></tspan><tspan id="SvgjsTspan1232" dy="16" x="128"><tspan id="SvgjsTspan1233" style="text-decoration:;">调用nextTick(flushSchedulerQueue)，</tspan></tspan><tspan id="SvgjsTspan1234" dy="16" x="128"><tspan id="SvgjsTspan1235" style="text-decoration:;">在下一次更新时统一处理，而不是改变一</tspan></tspan><tspan id="SvgjsTspan1236" dy="16" x="128"><tspan id="SvgjsTspan1237" style="text-decoration:;">个数据就更新一次</tspan></tspan></text></g></g><g id="SvgjsG1238"><path id="SvgjsPath1239" d="M1233.6246208309988 220.96875L1233.6246208309988 235.625L1233.6246208309988 235.625L1233.6246208309988 246.6812500000001 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1240)"></path></g><g id="SvgjsG1242" transform="matrix(0.7660444431189778,-0.6427876096865396,0.6427876096865396,0.7660444431189778,222.77366285509856,672.8999299949354)"><path id="SvgjsPath1243" d="M0 0L179 0L179 59L0 59Z " stroke="none" fill="none"></path><g id="SvgjsG1244"><text id="SvgjsText1245" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="179px" fill="#e0e0e0" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="0.2" y="18.875" transform="rotate(0)"><tspan id="SvgjsTspan1246" dy="16" x="89.5"><tspan id="SvgjsTspan1247" style="text-decoration:;">https://github.com/wbccb</tspan></tspan></text></g></g><g id="SvgjsG1248" transform="translate(643.046875,105.21875)"><path id="SvgjsPath1249" d="M0 0L172.5 0L172.5 143.625L0 143.625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffe0b2"></path><g id="SvgjsG1250"><text id="SvgjsText1251" font-family="微软雅黑" text-anchor="start" font-size="13px" width="153px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="37.1875" transform="rotate(0)"><tspan id="SvgjsTspan1252" dy="16" x="10"><tspan id="SvgjsTspan1253" style="text-decoration:;">update() { </tspan></tspan><tspan id="SvgjsTspan1254" dy="16" x="10"><tspan id="SvgjsTspan1255" style="text-decoration:;">   if (this.lazy) </tspan></tspan><tspan id="SvgjsTspan1256" dy="16" x="10"><tspan id="SvgjsTspan1257" style="text-decoration:;">      this.dirty = true;</tspan></tspan><tspan id="SvgjsTspan1258" dy="16" x="10"><tspan id="SvgjsTspan1259" style="text-decoration:;">}</tspan></tspan></text></g></g><g id="SvgjsG1260"><path id="SvgjsPath1261" d="M608.796875 179.03125L625.421875 179.03125L625.421875 179.03125L639.446875 179.03125 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1262)"></path></g><g id="SvgjsG1264"><path id="SvgjsPath1265" d="M816.546875 177.03125L842.3357479154994 177.03125L842.3357479154994 177.03125L865.5246208309987 177.03125 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1266)"></path></g><g id="SvgjsG1268" transform="translate(858.9655842828951,720.96875)"><path id="SvgjsPath1269" d="M0 0L192.81807309620729 0L192.81807309620729 54.31390106947765L0 54.31390106947765Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#c8e6c9"></path><g id="SvgjsG1270"><text id="SvgjsText1271" font-family="微软雅黑" text-anchor="start" font-size="12px" width="173px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="2.156950534738826" transform="rotate(0)"><tspan id="SvgjsTspan1272" dy="15" x="10"><tspan id="SvgjsTspan1273" style="text-decoration:;">  updateComponent = () =&gt; {</tspan></tspan><tspan id="SvgjsTspan1274" dy="15" x="10"><tspan id="SvgjsTspan1275" style="text-decoration:;">    vm._update(vm._render())</tspan></tspan><tspan id="SvgjsTspan1276" dy="15" x="10"><tspan id="SvgjsTspan1277" style="text-decoration:;">  }</tspan></tspan></text></g></g><g id="SvgjsG1278" transform="translate(856.2884937464981,801.96875)"><path id="SvgjsPath1279" d="M0 0L198.17225416900112 0L198.17225416900112 47L0 47Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#b2ebf2"></path><g id="SvgjsG1280"><text id="SvgjsText1281" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="179px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="12.875" transform="rotate(0)"><tspan id="SvgjsTspan1282" dy="16" x="99.5"><tspan id="SvgjsTspan1283" style="text-decoration:;">触发myName的get()方法</tspan></tspan></text></g></g><g id="SvgjsG1284"><path id="SvgjsPath1285" d="M955.3746208309988 683.96875L955.3746208309988 701.96875L955.3746208309988 701.96875L955.3746208309988 717.3687500000001 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1286)"></path></g><g id="SvgjsG1288"><path id="SvgjsPath1289" d="M955.3746208309988 776.2826510694777L955.3746208309988 788.6257005347388L955.3746208309988 788.6257005347388L955.3746208309988 798.3687500000001 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1290)"></path></g><g id="SvgjsG1292" transform="translate(624.609375,772.9367994652612)"><path id="SvgjsPath1293" d="M0 0L199.25 0L199.25 105.06390106947765L0 105.06390106947765Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffcdd2"></path><g id="SvgjsG1294"><text id="SvgjsText1295" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="180px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="17.906950534738826" transform="rotate(0)"><tspan id="SvgjsTspan1296" dy="16" x="100"><tspan id="SvgjsTspan1297" style="text-decoration:;">Vue2-Computed依赖收集</tspan></tspan><tspan id="SvgjsTspan1298" dy="16" x="100"><tspan id="SvgjsTspan1299" style="text-decoration:;">&lt;div&gt;{{myName}}&lt;/div&gt;渲染</tspan></tspan><tspan id="SvgjsTspan1300" dy="16" x="100"><tspan id="SvgjsTspan1301" style="text-decoration:;">Watcher持有myName</tspan></tspan><tspan id="SvgjsTspan1302" dy="16" x="100"><tspan id="SvgjsTspan1303" style="text-decoration:;">(参考上一个依赖收集的流程图)</tspan></tspan></text></g></g><g id="SvgjsG1304" transform="translate(859.2604202681985,947.280977887377)"><path id="SvgjsPath1305" d="M17 0L177.92709053639692 0C200.59375720306357 0 200.59375720306357 51 177.92709053639692 51L17 51C-5.666666666666667 51 -5.666666666666667 0 17 0Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1306"><text id="SvgjsText1307" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="175px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="14.875" transform="rotate(0)"><tspan id="SvgjsTspan1308" dy="16" x="97.5"><tspan id="SvgjsTspan1309" style="text-decoration:;">界面上显示最新myName的值</tspan></tspan></text></g></g><g id="SvgjsG1310" transform="translate(639.796875,942.5932057747546)"><path id="SvgjsPath1311" d="M0 0L162.48818645774975 0L162.48818645774975 60.37554422524545L0 60.37554422524545Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1312"><text id="SvgjsText1313" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="143px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="3.5627721126227243" transform="rotate(0)"><tspan id="SvgjsTspan1314" dy="16" x="81.5"><tspan id="SvgjsTspan1315" style="text-decoration:;">watcher.value</tspan></tspan><tspan id="SvgjsTspan1316" dy="16" x="81.5"><tspan id="SvgjsTspan1317" style="text-decoration:;">在watcher.evaluate()阶</tspan></tspan><tspan id="SvgjsTspan1318" dy="16" x="81.5"><tspan id="SvgjsTspan1319" style="text-decoration:;">段已经获取</tspan></tspan></text></g></g><g id="SvgjsG1320"><path id="SvgjsPath1321" d="M724.2343749999999 879.0007005347388L724.2343749999999 910.2969531547467L724.234375 910.2969531547467L724.234375 938.9932057747546 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1322)"></path></g><g id="SvgjsG1324"><path id="SvgjsPath1325" d="M855.2884937464981 825.46875L840.0739343732491 825.46875L840.0739343732491 825.46875L827.459375 825.46875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1326)"></path></g><g id="SvgjsG1328"><path id="SvgjsPath1329" d="M806.4784682288749 972.780977887377L832.3694442485366 972.780977887377L832.3694442485366 972.780977887377L855.6604202681984 972.780977887377 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1330)"></path></g><g id="SvgjsG1332" transform="translate(55.79687500000003,892.46875)"><path id="SvgjsPath1333" d="M0 0L264.8742416619975 0L264.8742416619975 173.53497626088094L0 173.53497626088094Z " stroke="none" fill="none"></path><g id="SvgjsG1334"><text id="SvgjsText1335" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="265px" fill="#000000" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="0.4" y="76.14248813044047" transform="rotate(0)"><tspan id="SvgjsTspan1336" dy="16" x="132.5"><tspan id="SvgjsTspan1337" style="text-decoration:;">https://github.com/wbccb</tspan></tspan></text></g></g><g id="SvgjsG1338" transform="matrix(0.7660444431189778,-0.6427876096865396,0.6427876096865396,0.7660444431189778,1064.0082090618646,711.8974263374498)"><path id="SvgjsPath1339" d="M0 0L264.8742416619975 0L264.8742416619975 173.53497626088094L0 173.53497626088094Z " stroke="none" fill="none"></path><g id="SvgjsG1340"><text id="SvgjsText1341" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="265px" fill="#9e9e9e" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="0.1" y="76.14248813044047" transform="rotate(0)"><tspan id="SvgjsTspan1342" dy="16" x="132.5"><tspan id="SvgjsTspan1343" style="text-decoration:;">https://github.com/wbccb</tspan></tspan></text></g></g><g id="SvgjsG1344" transform="matrix(0.7660444431189778,-0.6427876096865396,0.6427876096865396,0.7660444431189778,557.0082090618646,406.8974263374498)"><path id="SvgjsPath1345" d="M0 0L264.8742416619975 0L264.8742416619975 173.53497626088094L0 173.53497626088094Z " stroke="none" fill="none"></path><g id="SvgjsG1346"><text id="SvgjsText1347" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="265px" fill="#9e9e9e" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="0.1" y="76.14248813044047" transform="rotate(0)"><tspan id="SvgjsTspan1348" dy="16" x="132.5"><tspan id="SvgjsTspan1349" style="text-decoration:;">https://github.com/wbccb</tspan></tspan></text></g></g><g id="SvgjsG1350" transform="matrix(0.7660444431189778,-0.6427876096865396,0.6427876096865396,0.7660444431189778,734.0082090618646,506.8974263374498)"><path id="SvgjsPath1351" d="M0 0L264.8742416619975 0L264.8742416619975 173.53497626088094L0 173.53497626088094Z " stroke="none" fill="none"></path><g id="SvgjsG1352"><text id="SvgjsText1353" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="265px" fill="#9e9e9e" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="0.1" y="76.14248813044047" transform="rotate(0)"><tspan id="SvgjsTspan1354" dy="16" x="132.5"><tspan id="SvgjsTspan1355" style="text-decoration:;">https://github.com/wbccb</tspan></tspan></text></g></g></svg>